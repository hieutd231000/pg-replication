# NETWORK SETTINGS
listen_addresses = '*'          # Lắng nghe trên tất cả network interfaces
port = 5432

# Enable WAL archiving cho replication
wal_level = replica
# Tối đa 3 connections từ replicas (2 replicas + 1 dự phòng)
max_wal_senders = 3
# Số lượng replication slots (1 cho mỗi replica)
max_replication_slots = 2
# Giữ lại WAL segments để replicas có thể catch up (tăng lên 1GB cho safety)
wal_keep_size = 1GB

# Enable hot standby (replicas có thể serve reads)
hot_standby = on

# Để test replication lag dễ hơn
synchronous_commit = off